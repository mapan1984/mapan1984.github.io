---
title: vim 编辑
categories: [Tool]
tags: [vim]
---

### 复制，粘贴，删除(相当于剪切)

    y - yank
    yy - 复制当前行(yank)

    p - paste
    P - 在光标上一行paste
    x - 向后删除当前字符
    X - 向前删除字符
    dd - 删除当前行(delete)

复制`y`，删除`d`都可以与移动命令结合，比如:

    y^
    y$
    yw
    ynw
    yG
    ynG 复制到第n行

直接移动和拷贝:

    :n1,n2 co n3 将n1行到n2行之间的内容拷贝到n3行下
    :n1,n2 m n3 将n1行到n2行之间的内容移动到n3行下

### 各种插入

    i - (insert)
    I - 在本行第一个字符前插入
    a - (after)
    A - 在行末尾插入, 比如A;
    o - 向下插入一行
    O - 向上插入一行
    r - 替换一个字符
    R - 从当前位置连续替换字符
    s - 清除一个字符插入
    S - 清除一行内容插入
    c0 - 在当前光标删除到行首并插入
    c$ - 在当前光标删除到行尾并插入
    cNw - 删除N个词后插入
    cc - 清除一行插入(可缩进到适当位置)
    C - 删除光标后的内容后插入

### 对括号，引号，标签内容的操作

i代表inner

    di{ - 删除{}里所有的代码
    di( - 把()清空为()
    di[ - 清空[]
    di<
    di"
    di'
    di`
    dit - 删除一对html/xml的标签内的所有字符

将i换为a可以在操作时包含两边的标签

    da{ - 删除{}和它里面的所有东西

`d`代表delete,`c`代表change,用`c`代替`d`会在删除之后进入插入模式

将`d`换为`v`, `y`可以完成选定和复制

    vi{ - 选定
    yi{ - 复制

### 缩进

    >> - 向右给它进当前行
    << - 向左缩进当前行
    = - 缩进当前行(和上面不一样的是，它会对齐缩进)

可以和移动配合，比如:

    =% - 把光标位置移到语句块的括号上，然后按=%，缩进整个语句块(%是括号匹配)
    gg=G - 缩进整个文件（G是到文件结尾，gg是到文件开头）

### 还原操作

    u - 撤销操作
    U - 撤销整行操作
    ctrl+r - 恢复撤销

### 关键字补全

在insert模式下，我们可以按如下快捷键:

    ctrl+n - Vim会搜索已打开缓冲区的代码，搜索完成后会出现一个下拉列表(包含你输入的单词)
    ctrl+p - Vim会搜索已打开缓冲区的代码，搜索完成后会出现一个上拉列表(包含你输入的单词)

接下来我们可以使用<kbd>Ctrl P</kbd>或<kbd>Ctrl N</kbd>上移或下移光标，可以回到你写的词继续输入(这可以帮助过滤关键词)，也可以上移或下移来选择列表中的关键字，选好后回车，就补全了。

当在其前面加<kbd>ctrl x</kbd>表示只在当前文件搜索匹配。

与此类似的，还有更多的补齐，都在<kbd>Ctrl X</kbd>下面：

    ctrl+x ctrl+l - 对整个行补齐
    ctrl+x ctrl+f - 文件名 补齐
    ctrl+x ctrl+k - 字典补全 (执行:set dictionary+=[字典文件] 设置字典)
    ctrl+x ctrl+d - 宏定义补齐
    ctrl+x ctrl+] - 标签补齐
    ctrl+x ctrl+i - 也是关键词补齐，但是关键后会有个文件名，告诉你这个关键词在哪个文件中
    ctrl+x ctrl+v - 表达式补齐

*通过EX命令"help ins-complete"可以查阅所有以<C-x>开头的快捷键说明*

*通过EX命令"help complete-functions"查阅如何编写omnifunc或者completefunc的方法*

### 字符相关

    guu - 把一行的文字变成全小写
    gUU - 把一行的文件变成全大写
    按v键进入选择模式，然后移动光标选择你要的文本，按u转小写，按U转大写
    gU - 变大写
    gu - 变小写
    ga - 查看光标处的ascii码
    g8 - 查看光标处的utf-8编码
    ctrl+a - 把光标下的数字加1
    ctrl+x - 吧光标下的数字减1
