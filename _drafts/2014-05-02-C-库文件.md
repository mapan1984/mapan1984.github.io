---
layout: post 
title: c 库文件 
categories: [linux]
tags: [c]
---

### C语言编译过程

    源文件(.h, .c)                                  .a/.so 
          \                                            \
           \________>预编译----->编译------>汇编----->链接
                                                         \
                                                          \_____>可执行文件

### 静态库(.a)

静态库是指在链接过程中，将汇编生成的目标文件.o与库一起链接到可执行文件中，链接方式称为静态链接

- 静态库对函数库的链接是放在编译时期完成的
- 程序在运行时与函数库再无瓜葛，移植方便
- 浪费空间和资源，因为所有相关的目标文件与牵涉到的函数库被链接合成一个可执行文件

编译源码但不执行链接

    gcc -c foo.c

编译并链接

    gcc foo.c bar.c -o out

### 动态库(.so)

动态库编译时并不会链接到可执行文件中，而是在程序运行时才被载入

**windows上对应的是 .lib .dll**
