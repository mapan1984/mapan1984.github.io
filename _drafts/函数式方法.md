---
title: 函数式方法
---

### map

对表的递归操作十分频繁，比如将表l中的每个元素乘以s并返回新的表:

``` scheme
(define (scale-list s l)
    (if (null? l)
        nil
        (cons (* (car l) s)
              (scale-list s (cdr l)))))
```

此时可抽取出通用过程`map`:

``` scheme
(define (map p l)
    (if (null? l)
        nil
        (cons (p (car l))
              (map p (cdr l)))))
```

之后可定义`scale-list`:

``` scheme
(define (scale-list s l)
    (map (lambda (item) (* item s))
         l))
```

### for-each

``` scheme
(define (for-each proc list)
    (cond ((null? list) "done")
          (else (proc (car list))
                (for-each proc
                          (cdr list)))))
```
