## iso/osi七层模型

    应用层 <-------------------------> 应用层 (APDU)
      |                                  |
      v                                  v 
    表示层  -------------------------- 表示层 (PPDU)
      |                                  |
      v                                  v 
    会话层  -------------------------- 会话层 (SPDU)
      |                                  |
      v                                  v 
    传输层  ---------------------------传输层 (TPDU)
      |                                  |
      v                                  v 
    网络层  -------------------------- 网络层 （报文）
      |                                  |
      v                                  v 
    数据链路层------------------------ 数据链路  (帧)
      |                                  |
      v                                  v 
    物理层 <=========================> 物理层 （比特）

     主机A                             主机B

1. 应用层：用户接口
2. 表示层：数据的表示形式、特定功能的实现(如数据加密)
3. 会话层：对应用会话的管理、同步(**根据应用决定应用数据(字节流)的传输，如加FTP头并传向传输层，或对一般文本编辑保存硬盘**)
4. 传输层：可靠与不可靠的传输(**决定使用TCP或UDP，如有FTP头则加TCP头**)、传输前的错误检测、流控
5. 网络层：提供逻辑地址(**源IP地址和目标IP地址，加IP头**)、选路
6. 数据链路层：成帧、用**MAC地址**访问媒介、错误检测与修正
7. 设备之间的比特流的传输、物理接口、电气特性等

*MAC地址负责局域网通信，IP地址复制外网通信*

## TCP/IP四层模型

TCP/IP模型与OSI模型的对应：

    osi七层模型            TCP/IP四层模型
    ---------------------------------------
    应用层                    应用层
    表示层                  
    会话层                  
    ---------------------------------------
    传输层                    传输层
    ---------------------------------------
    网络层               网络层(网际互联层)
    ---------------------------------------
    数据链路层              网络接口层
    物理层                  
    ---------------------------------------

1. 网络接口层与OSI模型中的物理层和数据链路层相对应，它负责监视数据在逐渐和网络之间的交换。事实上，TCP/IP本身并未定义该层的协议，而由参与互联的各网络使用自己的物理层和数据链路曾协议，然后与TCP/IP的网络接入层进行连接。地址解析协议(ARP)工作在此层，即OSI参考模型的数据链路层。
2. 网际互连层对于与OSI参考模型的网络层，主要解决主机到主机的通信问题。它所包含的协议设计数据包在整个网络上的逻辑传输。该层有三个主要协议：网际协议(IP)、互联网组管理协议(IGMP)、互联网控制报文协议(ICMP)。
3. 传输层对应于OSI参考模型的传输层，为应用实体提供端到端的通信功能，保证了数据包的顺序传送及数据的完整性。该层定义了两个主要的协议：传输控制协议(TCP)和用户数据报协议(UDP)。
4. 应用层对应于OSI模型的高层，为用户提供所需的各种服务，例如：FTP、Telnet、DNS、SMTP等。

## IP地址

## 端口作用

## DNS作用

### 域名访问是如何找到正确的DNS并访问主机IP的？

#### 首先域名是分层的：

- 根域(.)
- 顶级域(com, edu, gov,org,cn,mil等等，为组织域和国家地区域)
- 二级域(Microsoft, zhihu,douban，google等等，是自己取的 )
- 三级域(www, NEWS等)

#### 下面是查询过程，以"http://www.zhihu.com/"为例：

1. 当你在浏览器输入域名(http://www.zhihu.com/)之后，浏览器会向本地DNS发送域名查询请求，本地DNS如果有对应的缓存则会找到对应IP并将IP返回，如果没有则会向根DNS服务器发送查询。
2. 根DNS服务器知道所有的顶级域的DNS服务器(如com)，会把域名对应的顶级域的DNS服务器IP返回，本地DNS服务器继续向顶级域的DNS服务器(com)发送查询。
3. 顶级域管理所有的二级域(如zhihu)，会返回二级域DNS服务器IP，本地DNS服务器继续向二级域发送查询，二级域DNS服务器会返回正确的Web服务器IP给本地DNS服务器。
4. 本地DNS服务器告知你Web服务器IP，之后你的电脑会通过IP与路由器找到Web服务器。

购买网络主机时，网络主机的服务公司会告诉你他们的DNS服务器地址，而你注册域名后，需要告诉你的注册商你的DNS服务器是什么(即互联网上DNS服务器的IP或主机名)。之后你注册的域名就可以使用了，你的本地DNS服务器可能不知到这个域名，但请求会传到根DNS服务器，根DNS服务器知道谁知道所有.com映射的主机名和IP，这是注册商帮你做的，这样信息就会在互联网上散播并缓存。

## 网关作用
